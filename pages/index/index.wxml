<!--index.wxml-->

<import src="../common/template/news.wxml"/>  

<scroll-view class="page-body" scroll-y="true" bindscrolltolower="loadMore" lower-threshold="0">
  <view >
      <swiper class="swiper__box" indicator-dots="{{indicatorDots}}"
      autoplay="{{autoplay}}" interval="{{interval}}" duration="{{duration}}">
      <block wx:for="{{bannerList}}" wx:key="key">
          <swiper-item>
              <image src="{{item.src}}" data-id="{{item.id}}" class="banner__image" bindtap="goToDetail"/>
          </swiper-item>
      </block>
      </swiper>
  </view>
  <view  wx:for="{{ newsList }}" wx:key="id">
    <template is="{{ 'newsStyle' + item.code }}" data="{{ ...item }}" />
  </view>
  <view class="tips">
    <view wx:if="{{hasMore}}"><image src="/images/loading.gif" mode="aspectFill"/><text>玩了命的加载中...</text></view>
    <view wx:else><text>没有更多内容了</text></view>
  </view>
</scroll-view>
<loading hidden="{{!loading}}">加载中...</loading>
